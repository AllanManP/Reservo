{% extends "admin_base.html" %}

{% block title %}Finalizar Cita{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/finalizar_cita.css') }}">
{% endblock %}

{% block content %}
<main>
    <div class="container mt-5">
        <h1>Finalizar Cita</h1>

        <!-- Formulario para finalizar la cita -->
        <form action="/finalizar" method="POST" enctype="multipart/form-data">

            <div class="form-group">
                <label for="nombre">Cliente</label>
                <input type="text" class="form-control" id="nombre" name="nombre" value="{{ cliente_info.nombre }}" readonly>
            </div>

            <div class="form-group">
                <label for="nombre">Correo</label>
                <input type="text" class="form-control" id="correo" name="correo" value="{{ cliente_info.email }}" readonly>
            </div>

            <!-- Campo oculto para idestilista -->
            <input type="hidden" name="nombreEstilista" value="{{ estilista_info.nombre }}">

            <!-- Campo oculto para idestilista -->
            <input type="hidden" name="idcita" value="{{ reserva.idcita }}">

            <!-- Campo oculto para idestilista -->
            <input type="hidden" name="idestilista" value="{{ reserva.idestilista }}">
            
            <!-- Campo oculto para idestilista -->
            <input type="hidden" name="cliente_id" value="{{ reserva.cliente_id }}">
            
            <!-- Servicio -->
            <div class="form-group">
                <label for="servicio">Servicio</label>
                <input type="text" class="form-control" id="servicio" name="servicio" value="{{ reserva.servicio }}" readonly>
            </div>
        
            <!-- Fecha -->
            <div class="form-group">
                <label for="fecha">Fecha</label>
                <input type="text" class="form-control" id="fecha" name="fecha" value="{{ reserva.fecha }}" readonly>
            </div>
        
            <!-- Hora de Inicio -->
            <div class="form-group">
                <label for="hora_inicio">Hora de Inicio</label>
                <input type="text" class="form-control" id="hora_inicio" name="hora_inicio" value="{{ reserva.hora_inicio }}" readonly>
            </div>
        
            <!-- Hora Final -->
            <div class="form-group">
                <label for="hora_final">Hora de Finalizaci√≥n</label>
                <input type="time" class="form-control" id="hora_final" name="hora_final" value="{{ reserva.hora_final }}">
            </div>
        
            <!-- Monto Final -->
            <div class="form-group">
                <label for="valor">Monto Final del Servicio</label>
                <input type="number" class="form-control" id="valor" name="valor" required>
            </div>
        
            <!-- Foto del resultado Final -->
            <div class="form-group">
                <label for="foto">Foto</label>
                <input type="file" id="foto" name="foto" accept="image/*" required class="file-input">
                <label for="foto" class="file-label">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M12 2v10H2v2h10v10h2V14h10v-2H14V2h-2z"/>
                    </svg>
                    Seleccionar imagen
                </label>
            </div>
        
            <button type="submit" class="btn btn-success">Finalizar</button>
        </form>
    </div>
</main>
{% endblock %}
